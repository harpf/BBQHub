@page
@model BBQHub.Pages.Admin.SmtpSettingsModel
@{
    ViewData["Title"] = "SMTP-Einstellungen";
}

<div class="flex justify-center items-center min-h-screen bg-zinc-900 px-4">
    <div class="bg-zinc-800 p-8 rounded-2xl shadow-lg w-full max-w-md border border-zinc-700">
        <h1 class="text-3xl font-bold text-orange-400 mb-6 text-center drop-shadow">SMTP / OAuth2 Einstellungen</h1>

        <!-- Erfolg oder Fehlermeldung -->
        @if (TempData["Message"] != null)
        {
            <div class="alert bg-orange-500 text-white p-4 rounded mb-4">
                @TempData["Message"]
            </div>
        }

        <!-- Formular für die SMTP-Einstellungen -->
        <form method="post" class="space-y-6">
            @Html.AntiForgeryToken()

            <div>
                <label class="block text-sm font-semibold mb-2 text-white">Client ID</label>
                <input asp-for="Input.ClientId" class="w-full p-3 rounded-lg bg-zinc-700 border border-zinc-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm" placeholder="Client ID" />
            </div>

            <div>
                <label class="block text-sm font-semibold mb-2 text-white">Tenant ID</label>
                <input asp-for="Input.TenantId" class="w-full p-3 rounded-lg bg-zinc-700 border border-zinc-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm" placeholder="Tenant ID" />
            </div>

            <div>
                <label class="block text-sm font-semibold mb-2 text-white">Client Secret</label>
                <input asp-for="Input.ClientSecret" type="password" class="w-full p-3 rounded-lg bg-zinc-700 border border-zinc-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm" placeholder="Client Secret" />
            </div>

            <div>
                <label class="block text-sm font-semibold mb-2 text-white">Absenderadresse</label>
                <input asp-for="Input.SenderEmail" type="email" class="w-full p-3 rounded-lg bg-zinc-700 border border-zinc-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm" placeholder="Absenderadresse" />
            </div>

            <!-- Eingabefeld für Test-Empfängeradresse -->
            <div>
                <label class="block text-sm font-semibold mb-2 text-white">Test-Empfängeradresse</label>
                <input asp-for="TestEmpfaengerEmail" type="email" class="w-full p-3 rounded-lg bg-zinc-700 border border-zinc-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm" placeholder="Test-Empfängeradresse" />
                <small class="text-gray-500">Geben Sie die E-Mail-Adresse ein, an die die Testmail gesendet werden soll.</small>
            </div>

            <div class="flex gap-4">
                <!-- Speichern Button -->
                <button type="submit" asp-page-handler="Save" class="w-1/2 bg-orange-600 text-white py-2.5 rounded-lg hover:bg-orange-700 transition duration-200 shadow-md font-semibold">
                    💾 Speichern
                </button>

                <!-- Testmail Button -->
                <button type="submit" asp-page-handler="SendTest" class="w-1/2 bg-green-600 text-white py-2.5 rounded-lg hover:bg-green-700 transition duration-200 shadow-md font-semibold">
                    🔑 Test-E-Mail senden
                </button>
            </div>
        </form>
    </div>
</div>
